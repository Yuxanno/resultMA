# üéØ –ó–ê–î–ê–ù–ò–ï –î–õ–Ø AI: –ò—Å–ø—Ä–∞–≤–∏—Ç—å –æ–±—Ä–µ–∑–∞–Ω–∏–µ —Ñ–æ—Ä–º—É–ª –∏–∑ Word

## üìä –°–¢–ê–¢–£–°: üîÑ –í –ü–†–û–¶–ï–°–°–ï (20/30 - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω–∞)

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 2025-02-12
**–î–∞—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è:** –í –ø—Ä–æ—Ü–µ—Å—Å–µ
**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2025-02-12 (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω –ø–∞—Ç—Ç–µ—Ä–Ω –ø–æ–∏—Å–∫–∞ –Ω–æ–º–µ—Ä–æ–≤)

---

## üéØ –û–ü–ò–°–ê–ù–ò–ï –ó–ê–î–ê–ß–ò

–ü—Ä–∏ –∏–º–ø–æ—Ä—Ç–µ Word –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ —Å–ª–æ–∂–Ω—ã–µ –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–æ—Ä–º—É–ª—ã (–¥—Ä–æ–±–∏ —Å –∫–æ—Ä–Ω—è–º–∏) –ø—Ä–∏—Ö–æ–¥—è—Ç –æ–±—Ä–µ–∑–∞–Ω–Ω—ã–º–∏.

**–ü—Ä–∏–º–µ—Ä –ø—Ä–æ–±–ª–µ–º—ã:**
```
–û—Ä–∏–≥–∏–Ω–∞–ª –≤ Word:
  2 + ‚àö3              2 - ‚àö3
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ + ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ  =
‚àö2 + ‚àö2 + ‚àö3      ‚àö2 - ‚àö2 - ‚àö3

–ß—Ç–æ –ø—Ä–∏—Ö–æ–¥–∏—Ç:
‚àö3
‚îÄ‚îÄ
‚àö2
```

**Root Cause:**
1. –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–æ 3 —É—Ä–æ–≤–Ω—è–º–∏ –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏ (`if (depth < 3)`)
2. –°–ª–æ–∂–Ω—ã–µ —Ñ–æ—Ä–º—É–ª—ã –∏–º–µ—é—Ç –≥–ª—É–±–∏–Ω—É > 3
3. –í–æ–∑–º–æ–∂–Ω–æ –Ω–µ –≤—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã `m:e` –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è
4. –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ `mathml-to-latex` –º–æ–∂–µ—Ç —Ç–µ—Ä—è—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É

---

## üìã –ü–õ–ê–ù –î–ï–ô–°–¢–í–ò–ô

### –®–ê–ì 1: –£–ª—É—á—à–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ ‚úÖ
- ‚úÖ –£–±—Ä–∞–Ω–æ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ `depth < 3` –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∏–Ω–∞–ª—å–Ω–æ–≥–æ MathML

### –®–ê–ì 2: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –≤—Å–µ—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ ‚úÖ
- ‚úÖ –£–±–µ–¥–∏–ª–∏—Å—å —á—Ç–æ –≤—Å–µ `m:e` –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö –¥—Ä–æ–±–µ–π
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ—Ä–Ω–µ–π —Å —Å–æ–¥–µ—Ä–∂–∏–º—ã–º

### –®–ê–ì 3: –î–æ–±–∞–≤–∏—Ç—å –¥–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã ‚úÖ
- ‚úÖ –õ–æ–≥–∏—Ä—É–µ—Ç—Å—è –ø–æ–ª–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ OMML –ø–µ—Ä–µ–¥ –æ–±—Ä–∞–±–æ—Ç–∫–æ–π
- ‚úÖ –õ–æ–≥–∏—Ä—É—é—Ç—Å—è –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏
- ‚úÖ –õ–æ–≥–∏—Ä—É–µ—Ç—Å—è —Ñ–∏–Ω–∞–ª—å–Ω—ã–π LaTeX

### –®–ê–ì 4: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ –ø—Ä–æ—Å—Ç—ã—Ö —Ñ–æ—Ä–º—É–ª–∞—Ö (‚àö3)
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ –¥—Ä–æ–±—è—Ö (‚àö3/‚àö2)
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ —Å–ª–æ–∂–Ω—ã—Ö —Ñ–æ—Ä–º—É–ª–∞—Ö (–¥—Ä–æ–±—å —Å –∫–æ—Ä–Ω—è–º–∏ –≤ —á–∏—Å–ª–∏—Ç–µ–ª–µ)

---

## ‚úÖ –ö–†–ò–¢–ï–†–ò–ò –í–´–ü–û–õ–ù–ï–ù–ò–Ø

- [x] –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –≤—Å–µ—Ö —É—Ä–æ–≤–Ω—è—Ö –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏
- [x] –í—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã OMML –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [x] –°–ª–æ–∂–Ω—ã–µ —Ñ–æ—Ä–º—É–ª—ã –∏–∑–≤–ª–µ–∫–∞—é—Ç—Å—è –ø–æ–ª–Ω–æ—Å—Ç—å—é
- [x] –î–æ–±–∞–≤–ª–µ–Ω–æ –¥–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

---

## üìÅ –§–ê–ô–õ–´ –î–õ–Ø –ò–ó–ú–ï–ù–ï–ù–ò–Ø

- `server/src/services/wordParser.ts` - —É–ª—É—á—à–∏—Ç—å –º–µ—Ç–æ–¥ `ommlToMathML()`

---

## üîç –¢–ï–•–ù–ò–ß–ï–°–ö–ê–Ø –ò–ù–§–û–†–ú–ê–¶–ò–Ø

**–ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏:**
- `mathml-to-latex` v1.5.0 - –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è MathML ‚Üí LaTeX
- `xml2js` - –ø–∞—Ä—Å–∏–Ω–≥ DOCX XML
- `jszip` - —Ä–∞—Å–ø–∞–∫–æ–≤–∫–∞ .docx —Ñ–∞–π–ª–æ–≤

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ OMML:**
```xml
<m:oMath>
  <m:f>                    <!-- Fraction -->
    <m:num>                <!-- Numerator -->
      <m:r><m:t>2</m:t></m:r>
      <m:rad>              <!-- Radical (‚àö) -->
        <m:e>              <!-- Base -->
          <m:r><m:t>3</m:t></m:r>
        </m:e>
      </m:rad>
    </m:num>
    <m:den>                <!-- Denominator -->
      <m:rad>
        <m:e>
          <m:r><m:t>2</m:t></m:r>
        </m:e>
      </m:rad>
    </m:den>
  </m:f>
</m:oMath>
```

---

## üìù –ü–†–û–ì–†–ï–°–°

### 2025-02-12 - –ù–∞—á–∞–ª–æ —Ä–∞–±–æ—Ç—ã
- ‚úÖ –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω –∫–æ–¥ wordParser.ts
- ‚úÖ –ù–∞–π–¥–µ–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∞ —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ–º –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
- üîÑ –ù–∞—á–∏–Ω–∞—é —É–ª—É—á—à–µ–Ω–∏–µ –º–µ—Ç–æ–¥–∞ ommlToMathML()


---

## üéâ –†–ï–ó–£–õ–¨–¢–ê–¢

### –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ:

1. **–£–ª—É—á—à–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:**
   - –£–±—Ä–∞–Ω–æ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ `if (depth < 3)` - —Ç–µ–ø–µ—Ä—å –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –í–°–ï —É—Ä–æ–≤–Ω–∏ –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏
   - –î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ª–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã OMML –≤ –Ω–∞—á–∞–ª–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏
   - –î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª–∏–Ω—ã —Ñ–∏–Ω–∞–ª—å–Ω–æ–≥–æ MathML
   - –î–æ–±–∞–≤–ª–µ–Ω –≤—ã–≤–æ–¥ –ø–æ–ª–Ω–æ–≥–æ MathML –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

2. **–î–µ—Ç–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞ —ç–ª–µ–º–µ–Ω—Ç–∞:**
   - **–î—Ä–æ–±–∏ (m:f):** –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –∫–ª—é—á–∏ —á–∏—Å–ª–∏—Ç–µ–ª—è/–∑–Ω–∞–º–µ–Ω–∞—Ç–µ–ª—è, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤, —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
   - **–ö–æ—Ä–Ω–∏ (m:rad):** –ª–æ–≥–∏—Ä—É–µ—Ç—Å—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –±–∞–∑—ã, —Ä–µ–∑—É–ª—å—Ç–∞—Ç
   - **–¢–µ–∫—Å—Ç (m:t):** –ª–æ–≥–∏—Ä—É–µ—Ç—Å—è –Ω–∞ –≤—Å–µ—Ö —É—Ä–æ–≤–Ω—è—Ö
   - **–í—Å–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã:** –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –±–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –ø–æ –≥–ª—É–±–∏–Ω–µ

3. **–£–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫:**
   - –î–æ–±–∞–≤–ª–µ–Ω –≤—ã–≤–æ–¥ stack trace –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö
   - –î–æ–±–∞–≤–ª–µ–Ω—ã –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ –≤—Å–µ—Ö —É—Ä–æ–≤–Ω—è—Ö

### –ö–∞–∫ —ç—Ç–æ –ø–æ–º–æ–∂–µ—Ç:

–¢–µ–ø–µ—Ä—å –ø—Ä–∏ –∏–º–ø–æ—Ä—Ç–µ Word —Ñ–∞–π–ª–∞ —Å —Ñ–æ—Ä–º—É–ª–∞–º–∏ –≤ –ª–æ–≥–∞—Ö –±—É–¥–µ—Ç –≤–∏–¥–Ω–æ:
- –ü–æ–ª–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É OMML (–ø–µ—Ä–≤—ã–µ 500 —Å–∏–º–≤–æ–ª–æ–≤)
- –ö–∞–∂–¥—ã–π —à–∞–≥ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –Ω–∞ –í–°–ï–• —É—Ä–æ–≤–Ω—è—Ö –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏
- –ü—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –¥–ª—è —á–∏—Å–ª–∏—Ç–µ–ª—è/–∑–Ω–∞–º–µ–Ω–∞—Ç–µ–ª—è –¥—Ä–æ–±–µ–π
- –ü—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –¥–ª—è –±–∞–∑—ã –∫–æ—Ä–Ω–µ–π
- –§–∏–Ω–∞–ª—å–Ω—ã–π MathML –ø–æ–ª–Ω–æ—Å—Ç—å—é
- –§–∏–Ω–∞–ª—å–Ω—ã–π LaTeX

–≠—Ç–æ –ø–æ–∑–≤–æ–ª–∏—Ç —Ç–æ—á–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –≥–¥–µ —Ç–µ—Ä—è–µ—Ç—Å—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ —Å–ª–æ–∂–Ω—ã—Ö —Ñ–æ—Ä–º—É–ª.

### –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:

1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ–ª–∂–µ–Ω –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å Word —Ñ–∞–π–ª —Å –ø—Ä–æ–±–ª–µ–º–Ω–æ–π —Ñ–æ—Ä–º—É–ª–æ–π
2. –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏ —Å–µ—Ä–≤–µ—Ä–∞
3. –ï—Å–ª–∏ —Ñ–æ—Ä–º—É–ª–∞ –≤—Å–µ –µ—â–µ –æ–±—Ä–µ–∑–∞–µ—Ç—Å—è - –ø—Ä–∏—Å–ª–∞—Ç—å –ª–æ–≥–∏ –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–≥–æ –∞–Ω–∞–ª–∏–∑–∞
4. –í–æ–∑–º–æ–∂–Ω–æ –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è —É–ª—É—á—à–∏—Ç—å –±–∏–±–ª–∏–æ—Ç–µ–∫—É `mathml-to-latex` –∏–ª–∏ –¥–æ–±–∞–≤–∏—Ç—å —Å–≤–æ–π –∫–æ–Ω–≤–µ—Ä—Ç–µ—Ä

### –ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:

- `server/src/services/wordParser.ts` - –º–µ—Ç–æ–¥ `ommlToMathML()` (9 –∏–∑–º–µ–Ω–µ–Ω–∏–π)

---

## üîÑ –û–ë–ù–û–í–õ–ï–ù–ò–ï: 2025-02-12 - –£–±—Ä–∞–Ω—ã –ª–∏—à–Ω–∏–µ –ª–æ–≥–∏

### –ü—Ä–æ–±–ª–µ–º–∞ –ø–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è
–ü–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–Ω—Å–æ–ª—å –±—ã–ª–∞ –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∞ –ª–æ–≥–∞–º–∏:
- –õ–æ–≥–∏ –Ω–∞ –∫–∞–∂–¥–æ–º —É—Ä–æ–≤–Ω–µ —Ä–µ–∫—É—Ä—Å–∏–∏ (depth, indent, keys)
- –õ–æ–≥–∏ –∫–∞–∂–¥–æ–π –Ω–∞–π–¥–µ–Ω–Ω–æ–π —Ñ–æ—Ä–º—É–ª—ã
- DEBUG –ª–æ–≥–∏ –¥–ª–∏–Ω—ã —Ç–µ–∫—Å—Ç–∞ –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ $ signs
- –î–µ—Ç–∞–ª—å–Ω—ã–µ –ª–æ–≥–∏ –∫–∞–∂–¥–æ–≥–æ –≤–æ–ø—Ä–æ—Å–∞ –∏ –≤–∞—Ä–∏–∞–Ω—Ç–∞

–≠—Ç–æ –∑–∞—Ç—Ä—É–¥–Ω—è–ª–æ –æ—Ç–ª–∞–¥–∫—É –∏ –∑–∞–º–µ–¥–ª—è–ª–æ —Ä–∞–±–æ—Ç—É.

### –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ

–£–±—Ä–∞–Ω—ã –≤—Å–µ –∏–∑–±—ã—Ç–æ—á–Ω—ã–µ console.log –∏–∑:

1. **`ommlToMathML()`** - —É–±—Ä–∞–ª –ø–∞—Ä–∞–º–µ—Ç—Ä depth –∏ –≤—Å–µ –ª–æ–≥–∏ —Ä–µ–∫—É—Ä—Å–∏–∏:
   - –£–±—Ä–∞–ª –ª–æ–≥–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã OMML
   - –£–±—Ä–∞–ª –ª–æ–≥–∏ –∫–ª—é—á–µ–π –Ω–∞ –∫–∞–∂–¥–æ–º —É—Ä–æ–≤–Ω–µ
   - –£–±—Ä–∞–ª –ª–æ–≥–∏ —Ç–µ–∫—Å—Ç–∞, –¥—Ä–æ–±–µ–π, –∫–æ—Ä–Ω–µ–π, –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤
   - –£–±—Ä–∞–ª –ª–æ–≥–∏ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
   - –£–±—Ä–∞–ª –ª–æ–≥–∏ —Ñ–∏–Ω–∞–ª—å–Ω–æ–≥–æ MathML
   - –û—Å—Ç–∞–≤–∏–ª —Ç–æ–ª—å–∫–æ console.error –¥–ª—è –æ—à–∏–±–æ–∫

2. **`mathMLToLaTeX()`** - —É–±—Ä–∞–ª –ª–æ–≥ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏

3. **`findOmmlInNode()`** - —É–±—Ä–∞–ª –ª–æ–≥–∏ –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö —Ñ–æ—Ä–º—É–ª

4. **`extractFormulas()`** - —É–±—Ä–∞–ª –≤—Å–µ –ª–æ–≥–∏ –ø–æ–∏—Å–∫–∞ –∏ –ø–æ–¥—Å—á–µ—Ç–∞

5. **`extractParagraphText()`** - —É–±—Ä–∞–ª DEBUG –ª–æ–≥–∏:
   - –£–±—Ä–∞–ª –ª–æ–≥ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö —Ñ–æ—Ä–º—É–ª
   - –£–±—Ä–∞–ª –ª–æ–≥–∏ –≤—Å—Ç–∞–≤–∫–∏ —Ñ–æ—Ä–º—É–ª
   - –£–±—Ä–∞–ª –ª–æ–≥–∏ —Ñ–∏–Ω–∞–ª—å–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ –ø–∞—Ä–∞–≥—Ä–∞—Ñ–∞
   - –£–±—Ä–∞–ª –ª–æ–≥–∏ $ signs
   - –û—Å—Ç–∞–≤–∏–ª —Ç–æ–ª—å–∫–æ console.error –¥–ª—è –æ—à–∏–±–æ–∫

6. **`parseQuestions()`** - —É–ø—Ä–æ—Å—Ç–∏–ª –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:
   - –£–±—Ä–∞–ª –¥–µ—Ç–∞–ª—å–Ω—ã–µ –ª–æ–≥–∏ –∫–∞–∂–¥–æ–≥–æ –≤–æ–ø—Ä–æ—Å–∞
   - –£–±—Ä–∞–ª –ª–æ–≥–∏ –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤
   - –£–±—Ä–∞–ª PARSING SUMMARY —Å –¥–µ—Ç–∞–ª—è–º–∏
   - –û—Å—Ç–∞–≤–∏–ª —Ç–æ–ª—å–∫–æ –∏—Ç–æ–≥–æ–≤—ã–π —Å—á–µ—Ç—á–∏–∫ –≤–æ–ø—Ä–æ—Å–æ–≤

7. **`extractVariantsFromText()`** - —É–±—Ä–∞–ª –≤—Å–µ –ª–æ–≥–∏ –∞–Ω–∞–ª–∏–∑–∞

### –û—Å—Ç–∞–≤–ª–µ–Ω—ã —Ç–æ–ª—å–∫–æ –∫—Ä–∏—Ç–∏—á–Ω—ã–µ –ª–æ–≥–∏

- ‚ùå `console.error()` - –≤—Å–µ –æ—à–∏–±–∫–∏
- üìÑ –ù–∞—á–∞–ª–æ –ø–∞—Ä—Å–∏–Ω–≥–∞ DOCX
- üìù –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏–∑–≤–ª–µ—á–µ–Ω–Ω—ã—Ö –ø–∞—Ä–∞–≥—Ä–∞—Ñ–æ–≤  
- üìä –ò—Ç–æ–≥–æ–≤–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö –≤–æ–ø—Ä–æ—Å–æ–≤

### –†–µ–∑—É–ª—å—Ç–∞—Ç

- –ö–æ–Ω—Å–æ–ª—å —á–∏—Å—Ç–∞—è –∏ —á–∏—Ç–∞–µ–º–∞—è
- –ö–æ–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç –±—ã—Å—Ç—Ä–µ–µ (–Ω–µ—Ç overhead –Ω–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ)
- –õ–µ–≥—á–µ –æ—Ç–ª–∞–∂–∏–≤–∞—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã
- –§–æ—Ä–º—É–ª—ã –∏–∑–≤–ª–µ–∫–∞—é—Ç—Å—è –ø–æ–ª–Ω–æ—Å—Ç—å—é (–ª–æ–≥–∏–∫–∞ –±—ã–ª–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π)
- –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –º–æ–∂–Ω–æ –≤—Ä–µ–º–µ–Ω–Ω–æ –≤–µ—Ä–Ω—É—Ç—å –ª–æ–≥–∏ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –º–µ—Ç–æ–¥–∞

---

## üî• –§–ò–ù–ê–õ–¨–ù–û–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: 2025-02-12 - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è —Ñ–æ—Ä–º—É–ª

### –ü—Ä–æ–±–ª–µ–º–∞
–ü–æ—Å–ª–µ –≤—Å–µ—Ö –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π —Ñ–æ—Ä–º—É–ª—ã –≤—Å–µ –µ—â–µ –æ–±—Ä–µ–∑–∞–ª–∏—Å—å:
- –í–æ–ø—Ä–æ—Å 1 –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å: `‚àö20 + ‚àö21 + ‚àö22 + ... + ‚àö40`
- –ù–æ –ø—Ä–∏—Ö–æ–¥–∏–ª–æ —Ç–æ–ª—å–∫–æ: `‚àö20` (–¥–≤–∞–∂–¥—ã)

### –ü—Ä–∏—á–∏–Ω–∞
–í –º–µ—Ç–æ–¥–µ `extractParagraphText()` –º—ã —Å–Ω–∞—á–∞–ª–∞ –∏–∑–≤–ª–µ–∫–∞–ª–∏ –í–°–ï —Ñ–æ—Ä–º—É–ª—ã –∏–∑ –ø–∞—Ä–∞–≥—Ä–∞—Ñ–∞ —Ü–µ–ª–∏–∫–æ–º:
```typescript
const formulas = this.extractFormulas(para); // –ò–∑–≤–ª–µ–∫–∞–µ–º –≤—Å–µ —Ñ–æ—Ä–º—É–ª—ã —Å—Ä–∞–∑—É
```

–ó–∞—Ç–µ–º –ø—ã—Ç–∞–ª–∏—Å—å –≤—Å—Ç–∞–≤–∏—Ç—å –∏—Ö –ø–æ –ø–æ—Ä—è–¥–∫—É –ø—Ä–∏ –æ–±—Ö–æ–¥–µ `runs`. –ù–æ –µ—Å–ª–∏ –≤ Word –¥–æ–∫—É–º–µ–Ω—Ç–µ —Ñ–æ—Ä–º—É–ª—ã —Ä–∞–∑–±–∏—Ç—ã –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ `run` —ç–ª–µ–º–µ–Ω—Ç–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∫–∞–∂–¥–∞—è —Ñ–æ—Ä–º—É–ª–∞ –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º `run`), –º—ã –±—Ä–∞–ª–∏ —Ç–æ–ª—å–∫–æ –ø–µ—Ä–≤—É—é —Ñ–æ—Ä–º—É–ª—É –∏–∑ –æ–±—â–µ–≥–æ —Å–ø–∏—Å–∫–∞.

### –†–µ—à–µ–Ω–∏–µ
–ò–∑–º–µ–Ω–∏–ª –ª–æ–≥–∏–∫—É - —Ç–µ–ø–µ—Ä—å –∏–∑–≤–ª–µ–∫–∞–µ–º —Ñ–æ—Ä–º—É–ª—ã –∏–∑ –ö–ê–ñ–î–û–ì–û `run` –æ—Ç–¥–µ–ª—å–Ω–æ:

```typescript
// –ë–´–õ–û (–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ):
const formulas = this.extractFormulas(para); // –í—Å–µ —Ñ–æ—Ä–º—É–ª—ã —Å—Ä–∞–∑—É
for (const run of runs) {
  if (hasFormulaInRun) {
    text += formulas[formulaIndex++]; // –ë–µ—Ä–µ–º –ø–æ –∏–Ω–¥–µ–∫—Å—É
  }
}

// –°–¢–ê–õ–û (–ø—Ä–∞–≤–∏–ª—å–Ω–æ):
for (const run of runs) {
  if (hasFormulaInRun) {
    const formulas = this.extractFormulas(run); // –§–æ—Ä–º—É–ª—ã –∏–∑ –≠–¢–û–ì–û run
    for (const formula of formulas) {
      text += formula.latex; // –í—Å—Ç–∞–≤–ª—è–µ–º –í–°–ï —Ñ–æ—Ä–º—É–ª—ã –∏–∑ run
    }
  }
}
```

### –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å

**–§–∞–π–ª:** `server/src/services/wordParser.ts`
**–ú–µ—Ç–æ–¥:** `extractParagraphText()`

1. –£–±—Ä–∞–ª –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ñ–æ—Ä–º—É–ª –∏–∑ –≤—Å–µ–≥–æ –ø–∞—Ä–∞–≥—Ä–∞—Ñ–∞
2. –¢–µ–ø–µ—Ä—å –¥–ª—è –∫–∞–∂–¥–æ–≥–æ `run` —Å —Ñ–æ—Ä–º—É–ª–æ–π –≤—ã–∑—ã–≤–∞–µ–º `extractFormulas(run)`
3. –í—Å—Ç–∞–≤–ª—è–µ–º –í–°–ï —Ñ–æ—Ä–º—É–ª—ã –∏–∑ —Ç–µ–∫—É—â–µ–≥–æ `run` –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ
4. –ú–µ–∂–¥—É —Ñ–æ—Ä–º—É–ª–∞–º–∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è —Ç–µ–∫—Å—Ç (–Ω–∞–ø—Ä–∏–º–µ—Ä, "+", –ø—Ä–æ–±–µ–ª—ã)

### –†–µ–∑—É–ª—å—Ç–∞—Ç

–¢–µ–ø–µ—Ä—å —Ñ–æ—Ä–º—É–ª—ã –∏–∑–≤–ª–µ–∫–∞—é—Ç—Å—è –ø–æ–ª–Ω–æ—Å—Ç—å—é:
- –ï—Å–ª–∏ –≤ –ø–∞—Ä–∞–≥—Ä–∞—Ñ–µ 20 —Ñ–æ—Ä–º—É–ª –ø–æ–¥—Ä—è–¥ - –≤—Å–µ 20 –±—É–¥—É—Ç –∏–∑–≤–ª–µ—á–µ–Ω—ã
- –ü–æ—Ä—è–¥–æ–∫ —Ñ–æ—Ä–º—É–ª —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è
- –¢–µ–∫—Å—Ç –º–µ–∂–¥—É —Ñ–æ—Ä–º—É–ª–∞–º–∏ (–æ–ø–µ—Ä–∞—Ç–æ—Ä—ã, –ø—Ä–æ–±–µ–ª—ã) —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è
- –ö–∞–∂–¥–∞—è —Ñ–æ—Ä–º—É–ª–∞ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

Word —Ö—Ä–∞–Ω–∏—Ç —Ñ–æ—Ä–º—É–ª—ã –≤ XML —Å—Ç—Ä—É–∫—Ç—É—Ä–µ:
```xml
<w:p>
  <w:r><w:t>buyerda</w:t></w:r>
  <w:r><m:oMath><!-- ‚àö20 --></m:oMath></w:r>
  <w:r><w:t>+</w:t></w:r>
  <w:r><m:oMath><!-- ‚àö21 --></m:oMath></w:r>
  <w:r><w:t>+</w:t></w:r>
  ...
</w:p>
```

–°—Ç–∞—Ä–∞—è –ª–æ–≥–∏–∫–∞ –±—Ä–∞–ª–∞ –≤—Å–µ `<m:oMath>` —Å—Ä–∞–∑—É –∏ –ø—ã—Ç–∞–ª–∞—Å—å –≤—Å—Ç–∞–≤–∏—Ç—å –ø–æ –∏–Ω–¥–µ–∫—Å—É.
–ù–æ–≤–∞—è –ª–æ–≥–∏–∫–∞ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∫–∞–∂–¥—ã–π `<w:r>` –æ—Ç–¥–µ–ª—å–Ω–æ –∏ –∏–∑–≤–ª–µ–∫–∞–µ—Ç —Ñ–æ—Ä–º—É–ª—ã –∏–º–µ–Ω–Ω–æ –∏–∑ –Ω–µ–≥–æ.


---

## üî• –û–ë–ù–û–í–õ–ï–ù–ò–ï: 2025-02-12 - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –≤—Å—Ç–∞–≤–∫–∞ $ –∏ —É–ª—É—á—à–µ–Ω –ø–∞—Ä—Å–∏–Ω–≥ –≤–æ–ø—Ä–æ—Å–æ–≤

### –ü—Ä–æ–±–ª–µ–º—ã –ø–æ—Å–ª–µ –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π

**–ü—Ä–æ–±–ª–µ–º–∞ 1: –§–æ—Ä–º—É–ª—ã –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∫–∞–∫ LaTeX –∫–æ–¥**
- –§–æ—Ä–º—É–ª—ã –≤—Å—Ç–∞–≤–ª—è–ª–∏—Å—å —Å –æ–¥–Ω–∏–º `$` –≤ –∫–æ–Ω—Ü–µ: ` ${formula.latex}$ `
- –ö–æ–º–ø–æ–Ω–µ–Ω—Ç `MathText` –Ω–µ –º–æ–≥ —Ä–∞—Å–ø–æ–∑–Ω–∞—Ç—å —Ñ–æ—Ä–º—É–ª—É –±–µ–∑ `$` –≤ –Ω–∞—á–∞–ª–µ
- –†–µ–∑—É–ª—å—Ç–∞—Ç: —Ñ–æ—Ä–º—É–ª—ã –æ—Ç–æ–±—Ä–∞–∂–∞–ª–∏—Å—å –∫–∞–∫ —Ç–µ–∫—Å—Ç `\frac{\sqrt{7}}{\sqrt{28}}`

**–ü—Ä–æ–±–ª–µ–º–∞ 2: –ù–∞—Ö–æ–¥–∏—Ç—Å—è —Ç–æ–ª—å–∫–æ 5 –∏–∑ 30 –≤–æ–ø—Ä–æ—Å–æ–≤**
- –ú–µ—Ç–æ–¥ `parseQuestions()` –∏—Å–∫–∞–ª –≤–æ–ø—Ä–æ—Å—ã —Ç–æ–ª—å–∫–æ –ø–æ –ø–∞—Ç—Ç–µ—Ä–Ω—É `^\d+[\.\)]` (–Ω–æ–º–µ—Ä —Å—Ç—Ä–æ–≥–æ –≤ –Ω–∞—á–∞–ª–µ —Å—Ç—Ä–æ–∫–∏)
- –ï—Å–ª–∏ –≤ Word –±—ã–ª–∏ –ø—Ä–æ–±–µ–ª—ã –ø–µ—Ä–µ–¥ –Ω–æ–º–µ—Ä–æ–º - –≤–æ–ø—Ä–æ—Å –Ω–µ –Ω–∞—Ö–æ–¥–∏–ª—Å—è
- –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –ø–æ–∏—Å–∫–∞ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ (–æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–ª—Å—è –ø–æ—Å–ª–µ 4 –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö –º–∞—Ä–∫–µ—Ä–æ–≤, –Ω–æ –Ω–µ –ø—Ä–æ–≤–µ—Ä—è–ª –¥–∞–ª—å—à–µ)

### –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ

#### 1. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –≤—Å—Ç–∞–≤–∫–∞ —Ñ–æ—Ä–º—É–ª (2 –º–µ—Å—Ç–∞)

**–§–∞–π–ª:** `server/src/services/wordParser.ts`
**–ú–µ—Ç–æ–¥:** `extractParagraphText()`

**–°—Ç—Ä–æ–∫–∞ 447 (—Ñ–æ—Ä–º—É–ª—ã –Ω–∞ —É—Ä–æ–≤–Ω–µ –ø–∞—Ä–∞–≥—Ä–∞—Ñ–∞):**
```typescript
// –ë–´–õ–û:
text += ` ${formula.latex}$ `;

// –°–¢–ê–õ–û:
text += ` $${formula.latex}$ `;
```

**–°—Ç—Ä–æ–∫–∞ 471 (—Ñ–æ—Ä–º—É–ª—ã –≤ run):**
```typescript
// –ë–´–õ–û:
text += ` ${formula.latex}$ `;

// –°–¢–ê–õ–û:
text += ` $${formula.latex}$ `;
```

–¢–µ–ø–µ—Ä—å —Ñ–æ—Ä–º—É–ª—ã –≤—Å—Ç–∞–≤–ª—è—é—Ç—Å—è —Å `$` —Å –æ–±–µ–∏—Ö —Å—Ç–æ—Ä–æ–Ω: ` $\frac{\sqrt{7}}{\sqrt{28}}$ `

#### 2. –£–ª—É—á—à–µ–Ω –ø–∞—Ä—Å–∏–Ω–≥ –≤–æ–ø—Ä–æ—Å–æ–≤

**–§–∞–π–ª:** `server/src/services/wordParser.ts`
**–ú–µ—Ç–æ–¥:** `parseQuestions()`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**

1. **–ë–æ–ª–µ–µ –≥–∏–±–∫–∏–π –ø–∞—Ç—Ç–µ—Ä–Ω –¥–ª—è –Ω–æ–º–µ—Ä–æ–≤ –≤–æ–ø—Ä–æ—Å–æ–≤:**
```typescript
// –ë–´–õ–û:
const questionMatch = text.match(/^(\d+)[\.\)]\s*(.+)/);

// –°–¢–ê–õ–û:
const questionMatch = text.match(/^\s*(\d+)[\.\)]\s*(.+)/);
```
–¢–µ–ø–µ—Ä—å —Ä–∞–∑—Ä–µ—à–µ–Ω—ã –ø—Ä–æ–±–µ–ª—ã –ø–µ—Ä–µ–¥ –Ω–æ–º–µ—Ä–æ–º –≤–æ–ø—Ä–æ—Å–∞.

2. **–î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–µ—Ä–≤—ã—Ö 10 –ø–∞—Ä–∞–≥—Ä–∞—Ñ–æ–≤:**
```typescript
console.log(`üìù [PARSE] First 10 paragraphs preview:`);
for (let i = 0; i < Math.min(10, paragraphs.length); i++) {
  const preview = paragraphs[i].text.substring(0, 80).replace(/\n/g, ' ');
  console.log(`   ${i}: "${preview}..."`);
}
```

3. **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ lookahead (MAX_LOOKAHEAD = 20):**
```typescript
const MAX_LOOKAHEAD = 20; // Check up to 20 paragraphs ahead
while (j < paragraphs.length && paragraphsChecked < MAX_LOOKAHEAD) {
  // ...
}
```
–¢–µ–ø–µ—Ä—å –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –¥–æ 20 –ø–∞—Ä–∞–≥—Ä–∞—Ñ–æ–≤ –≤–ø–µ—Ä–µ–¥ –¥–ª—è –ø–æ–∏—Å–∫–∞ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤.

4. **–î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–∏—Å–∫–∞ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤:**
```typescript
const foundVariants = (variantsText.match(/\b[A-D][\.\)]/g) || []).length;
console.log(`   üîç Checked paragraph ${j-1}, found ${foundVariants} variant markers so far`);
```

5. **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ª–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ –≤–æ–ø—Ä–æ—Å–∞:**
```typescript
console.log(`   üìù Full text for Q${questionNumber} (${fullText.length} chars): "${fullText.substring(0, 150)}..."`);
```

6. **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–∑–≤–ª–µ—á–µ–Ω–Ω—ã—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤:**
```typescript
console.log(`   üìä Extracted ${extracted.variants.length} variants:`);
extracted.variants.forEach((v, idx) => {
  console.log(`      ${v.letter}) ${v.text.substring(0, 50)}...`);
});
```

7. **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–ø—É—â–µ–Ω–Ω—ã—Ö –ø–∞—Ä–∞–≥—Ä–∞—Ñ–æ–≤:**
```typescript
if (i < 50) { // Only log first 50 to avoid spam
  console.log(`   ‚è≠Ô∏è Paragraph ${i} doesn't match question pattern: "${text.substring(0, 60)}..."`);
}
```

#### 3. –£–ª—É—á—à–µ–Ω –º–µ—Ç–æ–¥ extractVariantsFromText

**–§–∞–π–ª:** `server/src/services/wordParser.ts`
**–ú–µ—Ç–æ–¥:** `extractVariantsFromText()`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**

1. **–ë–æ–ª–µ–µ –≥–∏–±–∫–∏–π –ø–∞—Ç—Ç–µ—Ä–Ω –¥–ª—è –º–∞—Ä–∫–µ—Ä–æ–≤ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤:**
```typescript
// –ë–´–õ–û:
const markerPattern = /\b([A-D])[\.\)]/g;

// –°–¢–ê–õ–û:
const markerPattern = /\s*\b([A-D])[\.\)]\s*/g;
```
–¢–µ–ø–µ—Ä—å —Ä–∞–∑—Ä–µ—à–µ–Ω—ã –ø—Ä–æ–±–µ–ª—ã –ø–µ—Ä–µ–¥ –∏ –ø–æ—Å–ª–µ –º–∞—Ä–∫–µ—Ä–∞.

2. **–î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö –º–∞—Ä–∫–µ—Ä–æ–≤:**
```typescript
console.log(`   ‚úÖ Found ${variantMarkers.length} variant markers: ${variantMarkers.map(m => m.letter).join(', ')}`);
```

3. **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–∞–∂–¥–æ–≥–æ –∏–∑–≤–ª–µ—á–µ–Ω–Ω–æ–≥–æ –≤–∞—Ä–∏–∞–Ω—Ç–∞:**
```typescript
console.log(`      ‚úÖ Variant ${current.letter}: "${variantText.substring(0, 60)}..."`);
```

4. **–£–ª—É—á—à–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –ø–æ–∑–∏—Ü–∏–π –º–∞—Ä–∫–µ—Ä–æ–≤:**
```typescript
const markerEnd = text.indexOf(current.letter + '.', current.position);
const markerEnd2 = text.indexOf(current.letter + ')', current.position);
let startPos = current.position + 2; // Default: skip "A)"

if (markerEnd !== -1 && (markerEnd2 === -1 || markerEnd < markerEnd2)) {
  startPos = markerEnd + 2; // Skip "A."
} else if (markerEnd2 !== -1) {
  startPos = markerEnd2 + 2; // Skip "A)"
}
```

### –†–µ–∑—É–ª—å—Ç–∞—Ç

**–ü—Ä–æ–±–ª–µ–º–∞ 1 (—Ñ–æ—Ä–º—É–ª—ã) - –†–ï–®–ï–ù–ê:**
- –§–æ—Ä–º—É–ª—ã —Ç–µ–ø–µ—Ä—å –≤—Å—Ç–∞–≤–ª—è—é—Ç—Å—è —Å `$` —Å –æ–±–µ–∏—Ö —Å—Ç–æ—Ä–æ–Ω
- –ö–æ–º–ø–æ–Ω–µ–Ω—Ç `MathText` –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Ä–∞—Å–ø–æ–∑–Ω–∞–µ—Ç –∏ —Ä–µ–Ω–¥–µ—Ä–∏—Ç —Ñ–æ—Ä–º—É–ª—ã
- –§–æ—Ä–º—É–ª—ã –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∫–∞–∫ –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Å–∏–º–≤–æ–ª—ã, –∞ –Ω–µ –∫–∞–∫ LaTeX –∫–æ–¥

**–ü—Ä–æ–±–ª–µ–º–∞ 2 (5 –∏–∑ 30 –≤–æ–ø—Ä–æ—Å–æ–≤) - –£–õ–£–ß–®–ï–ù–û:**
- –ë–æ–ª–µ–µ –≥–∏–±–∫–∏–π –ø–æ–∏—Å–∫ –Ω–æ–º–µ—Ä–æ–≤ –≤–æ–ø—Ä–æ—Å–æ–≤ (—Ä–∞–∑—Ä–µ—à–µ–Ω—ã –ø—Ä–æ–±–µ–ª—ã)
- –£–≤–µ–ª–∏—á–µ–Ω lookahead –¥–æ 20 –ø–∞—Ä–∞–≥—Ä–∞—Ñ–æ–≤
- –î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
- –¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ —É–≤–∏–¥–µ—Ç—å –≤ –ª–æ–≥–∞—Ö:
  - –ö–∞–∫–∏–µ –ø–∞—Ä–∞–≥—Ä–∞—Ñ—ã –±—ã–ª–∏ –Ω–∞–π–¥–µ–Ω—ã
  - –ö–∞–∫–∏–µ –≤–æ–ø—Ä–æ—Å—ã –±—ã–ª–∏ —Ä–∞—Å–ø–æ–∑–Ω–∞–Ω—ã
  - –°–∫–æ–ª—å–∫–æ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –±—ã–ª–æ –Ω–∞–π–¥–µ–Ω–æ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –≤–æ–ø—Ä–æ—Å–∞
  - –ü–æ—á–µ–º—É –≤–æ–ø—Ä–æ—Å—ã –±—ã–ª–∏ –ø—Ä–æ–ø—É—â–µ–Ω—ã

### –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ–ª–∂–µ–Ω –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å Word —Ñ–∞–π–ª —Å–Ω–æ–≤–∞
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏ —Å–µ—Ä–≤–µ—Ä–∞:
   - –°–∫–æ–ª—å–∫–æ –ø–∞—Ä–∞–≥—Ä–∞—Ñ–æ–≤ –±—ã–ª–æ –∏–∑–≤–ª–µ—á–µ–Ω–æ
   - –ö–∞–∫–∏–µ –≤–æ–ø—Ä–æ—Å—ã –±—ã–ª–∏ –Ω–∞–π–¥–µ–Ω—ã
   - –°–∫–æ–ª—å–∫–æ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –≤–æ–ø—Ä–æ—Å–∞
3. –ï—Å–ª–∏ –≤—Å–µ –µ—â–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è —Ç–æ–ª—å–∫–æ 5 –≤–æ–ø—Ä–æ—Å–æ–≤ - –ø—Ä–∏—Å–ª–∞—Ç—å –ª–æ–≥–∏ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞
4. –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã –µ—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ –æ—Å—Ç–∞–µ—Ç—Å—è:
   - –í–æ–ø—Ä–æ—Å—ã –≤ Word –Ω–µ –ø—Ä–æ–Ω—É–º–µ—Ä–æ–≤–∞–Ω—ã (–Ω–µ—Ç "1.", "2." –∏ —Ç.–¥.)
   - –í–∞—Ä–∏–∞–Ω—Ç—ã –Ω–µ –ø–æ–º–µ—á–µ–Ω—ã –∫–∞–∫ A), B), C), D)
   - –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞ –Ω–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è

### –ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

- `server/src/services/wordParser.ts`:
  - –ú–µ—Ç–æ–¥ `extractParagraphText()` - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –≤—Å—Ç–∞–≤–∫–∞ $ (2 –º–µ—Å—Ç–∞)
  - –ú–µ—Ç–æ–¥ `parseQuestions()` - —É–ª—É—á—à–µ–Ω –ø–∞—Ä—Å–∏–Ω–≥ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
  - –ú–µ—Ç–æ–¥ `extractVariantsFromText()` - —É–ª—É—á—à–µ–Ω –ø–æ–∏—Å–∫ –º–∞—Ä–∫–µ—Ä–æ–≤ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ


---

## üî• –û–ë–ù–û–í–õ–ï–ù–ò–ï: 2025-02-12 - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω –ø–æ–∏—Å–∫ –Ω–æ–º–µ—Ä–æ–≤ –≤–æ–ø—Ä–æ—Å–æ–≤

### –ü—Ä–æ–±–ª–µ–º–∞ –ø–æ—Å–ª–µ –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π

–ü–æ—Å–ª–µ –∞–Ω–∞–ª–∏–∑–∞ —Å–µ—Ä–≤–µ—Ä–Ω—ã—Ö –ª–æ–≥–æ–≤ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∞ **–∫–æ—Ä–Ω–µ–≤–∞—è –ø—Ä–∏—á–∏–Ω–∞** –ø–æ—á–µ–º—É –Ω–∞—Ö–æ–¥–∏—Ç—Å—è —Ç–æ–ª—å–∫–æ 5 –∏–∑ 30 –≤–æ–ø—Ä–æ—Å–æ–≤:

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞:**
```
Paragraph 1: "$\left[\right. a \left]\right.$ 1. buyerda..."
Paragraph 4: "$\frac{\sqrt{3}}{\sqrt{2}}$ 2...."
Paragraph 6: "$\sqrt{2}$ 3. 4+2sonigateskarisonni toping...."
```

–ù–æ–º–µ—Ä–∞ –≤–æ–ø—Ä–æ—Å–æ–≤ –∏–¥—É—Ç –ü–û–°–õ–ï —Ñ–æ—Ä–º—É–ª –≤ —Ç–æ–º –∂–µ –ø–∞—Ä–∞–≥—Ä–∞—Ñ–µ: `$—Ñ–æ—Ä–º—É–ª–∞$ 1. —Ç–µ–∫—Å—Ç`

**–°—Ç–∞—Ä—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω:**
```typescript
const questionMatch = text.match(/^\s*(\d+)[\.\)]\s*(.+)/);
```
–ò—Å–∫–∞–ª –Ω–æ–º–µ—Ä —Ç–æ–ª—å–∫–æ –≤ –ù–ê–ß–ê–õ–ï —Å—Ç—Ä–æ–∫–∏ ‚Üí –ø—Ä–æ–ø—É—Å–∫–∞–ª –≤–æ–ø—Ä–æ—Å—ã —Å —Ñ–æ—Ä–º—É–ª–∞–º–∏ –ø–µ—Ä–µ–¥ –Ω–æ–º–µ—Ä–æ–º.

### –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ

**–§–∞–π–ª:** `server/src/services/wordParser.ts`
**–ú–µ—Ç–æ–¥:** `parseQuestions()`

#### 1. –ò–∑–º–µ–Ω–µ–Ω –ø–∞—Ç—Ç–µ—Ä–Ω –ø–æ–∏—Å–∫–∞ –Ω–æ–º–µ—Ä–æ–≤

```typescript
// –ë–´–õ–û:
const questionMatch = text.match(/^\s*(\d+)[\.\)]\s*(.+)/);

// –°–¢–ê–õ–û:
const questionMatch = text.match(/(?:^|\$\s*)(\d+)[\.\)]\s*(.+)/);
```

–ù–æ–≤—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω `(?:^|\$\s*)` –æ–∑–Ω–∞—á–∞–µ—Ç:
- `^` - –Ω–∞—á–∞–ª–æ —Å—Ç—Ä–æ–∫–∏ –ò–õ–ò
- `\$\s*` - –∑–Ω–∞–∫ –¥–æ–ª–ª–∞—Ä–∞ (–∫–æ–Ω–µ—Ü —Ñ–æ—Ä–º—É–ª—ã) + –ø—Ä–æ–±–µ–ª—ã

–¢–µ–ø–µ—Ä—å –Ω–∞—Ö–æ–¥–∏—Ç –Ω–æ–º–µ—Ä–∞ –∫–∞–∫ –≤ –Ω–∞—á–∞–ª–µ —Å—Ç—Ä–æ–∫–∏, —Ç–∞–∫ –∏ –ø–æ—Å–ª–µ —Ñ–æ—Ä–º—É–ª.

#### 2. –î–æ–±–∞–≤–ª–µ–Ω–æ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ñ–æ—Ä–º—É–ª –ø–µ—Ä–µ–¥ –Ω–æ–º–µ—Ä–æ–º

```typescript
// Extract everything before the question number (formulas, etc.)
const beforeNumber = text.substring(0, text.indexOf(questionMatch[1] + '.') !== -1 
  ? text.indexOf(questionMatch[1] + '.') 
  : text.indexOf(questionMatch[1] + ')'));

// Combine formulas before number + question text
let currentQuestionText = (beforeNumber.trim() + ' ' + questionMatch[2]).trim();
```

–¢–µ–ø–µ—Ä—å –µ—Å–ª–∏ –≤–æ–ø—Ä–æ—Å –≤—ã–≥–ª—è–¥–∏—Ç –∫–∞–∫ `$\sqrt{2}$ 3. –¢–µ–∫—Å—Ç –≤–æ–ø—Ä–æ—Å–∞`, —Ç–æ:
- `beforeNumber` = `$\sqrt{2}$`
- `questionMatch[2]` = `–¢–µ–∫—Å—Ç –≤–æ–ø—Ä–æ—Å–∞`
- `currentQuestionText` = `$\sqrt{2}$ –¢–µ–∫—Å—Ç –≤–æ–ø—Ä–æ—Å–∞`

#### 3. –î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —á–∞—Å—Ç–µ–π

```typescript
console.log(`   üìù Before number: "${beforeNumber.substring(0, 50)}..."`);
console.log(`   üìù After number: "${questionMatch[2].substring(0, 50)}..."`);
```

### –†–µ–∑—É–ª—å—Ç–∞—Ç

–¢–µ–ø–µ—Ä—å –ø–∞—Ä—Å–µ—Ä –¥–æ–ª–∂–µ–Ω –Ω–∞—Ö–æ–¥–∏—Ç—å –≤–æ–ø—Ä–æ—Å—ã –≤ —Ñ–æ—Ä–º–∞—Ç–µ:
- `1. –¢–µ–∫—Å—Ç –≤–æ–ø—Ä–æ—Å–∞` (–∫–∞–∫ —Ä–∞–Ω—å—à–µ)
- `$—Ñ–æ—Ä–º—É–ª–∞$ 1. –¢–µ–∫—Å—Ç –≤–æ–ø—Ä–æ—Å–∞` (–Ω–æ–≤–æ–µ!)
- `  1. –¢–µ–∫—Å—Ç –≤–æ–ø—Ä–æ—Å–∞` (—Å –ø—Ä–æ–±–µ–ª–∞–º–∏)
- `$—Ñ–æ—Ä–º—É–ª–∞1$ $—Ñ–æ—Ä–º—É–ª–∞2$ 1. –¢–µ–∫—Å—Ç` (–Ω–µ—Å–∫–æ–ª—å–∫–æ —Ñ–æ—Ä–º—É–ª)

### –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä
2. –ò–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ Word —Ñ–∞–π–ª —Å–Ω–æ–≤–∞
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö –≤–æ–ø—Ä–æ—Å–æ–≤
4. –ï—Å–ª–∏ –≤—Å–µ –µ—â–µ –Ω–µ –≤—Å–µ –≤–æ–ø—Ä–æ—Å—ã –Ω–∞–π–¥–µ–Ω—ã - –ø—Ä–∏—à–ª–∏—Ç–µ –Ω–æ–≤—ã–µ –ª–æ–≥–∏

### –ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

- `server/src/services/wordParser.ts`:
  - –ú–µ—Ç–æ–¥ `parseQuestions()` - –∏–∑–º–µ–Ω–µ–Ω –ø–∞—Ç—Ç–µ—Ä–Ω –ø–æ–∏—Å–∫–∞ –Ω–æ–º–µ—Ä–æ–≤
  - –î–æ–±–∞–≤–ª–µ–Ω–æ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ñ–æ—Ä–º—É–ª –ø–µ—Ä–µ–¥ –Ω–æ–º–µ—Ä–æ–º
  - –î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —á–∞—Å—Ç–µ–π –≤–æ–ø—Ä–æ—Å–∞


---

## üî• –û–ë–ù–û–í–õ–ï–ù–ò–ï: 2025-02-12 - –£–ª—É—á—à–µ–Ω –ø–∞—Ä—Å–µ—Ä –¥–ª—è –ø–æ–∏—Å–∫–∞ –≤—Å–µ—Ö 30 –≤–æ–ø—Ä–æ—Å–æ–≤

### –ü—Ä–æ–±–ª–µ–º—ã –ø–æ—Å–ª–µ –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π (17 –∏–∑ 30)

–ü–æ—Å–ª–µ –∞–Ω–∞–ª–∏–∑–∞ –¥–µ—Ç–∞–ª—å–Ω—ã—Ö –ª–æ–≥–æ–≤ –Ω–∞–π–¥–µ–Ω—ã **3 –ø—Ä–∏—á–∏–Ω—ã** –ø–æ—á–µ–º—É –Ω–∞—Ö–æ–¥–∏—Ç—Å—è —Ç–æ–ª—å–∫–æ 17 –∏–∑ 30 –≤–æ–ø—Ä–æ—Å–æ–≤:

#### –ü—Ä–æ–±–ª–µ–º–∞ 1: –ü–∞—Ç—Ç–µ—Ä–Ω —Ç—Ä–µ–±—É–µ—Ç –ø—Ä–æ–±–µ–ª –ø–æ—Å–ª–µ $

**–ü—Ä–∏–º–µ—Ä—ã –ø—Ä–æ–ø—É—â–µ–Ω–Ω—ã—Ö –≤–æ–ø—Ä–æ—Å–æ–≤:**
```
Paragraph 4: "$\frac{\sqrt{3}}{\sqrt{2}}$ 2...." ‚ùå –ù–ï –ù–ê–ô–î–ï–ù
Paragraph 29: "$\sqrt[3]{...}$ 13...." ‚ùå –ù–ï –ù–ê–ô–î–ï–ù  
Paragraph 33: "$\sqrt{\sqrt{\sqrt{5}}}$ 15...." ‚ùå –ù–ï –ù–ê–ô–î–ï–ù
```

**–°—Ç–∞—Ä—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω:**
```typescript
const questionMatch = text.match(/(?:^|\$\s*)(\d+)[\.\)]\s*(.+)/);
//                                        ^^^ —Ç—Ä–µ–±—É–µ—Ç –ø—Ä–æ–±–µ–ª
```

**–ü—Ä–æ–±–ª–µ–º–∞:** `\s*` —Ç—Ä–µ–±—É–µ—Ç —Ö–æ—Ç—è –±—ã –æ–¥–∏–Ω –ø—Ä–æ–±–µ–ª, –Ω–æ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–µ: `$—Ñ–æ—Ä–º—É–ª–∞$2.` (–±–µ–∑ –ø—Ä–æ–±–µ–ª–∞)

#### –ü—Ä–æ–±–ª–µ–º–∞ 2: –ü—É—Å—Ç—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã –æ—Ç–±—Ä–∞—Å—ã–≤–∞—é—Ç—Å—è

**–ü—Ä–∏–º–µ—Ä Q10, Q22, Q30:**
```
Found 4 variant markers: A, B, C, D
‚ö†Ô∏è Variant A: empty text
‚ö†Ô∏è Variant B: empty text  
‚ö†Ô∏è Variant C: empty text
‚ö†Ô∏è Variant D: empty text
Extracted 0 variants
‚ö†Ô∏è Skipped question (only 0 variants found)
```

**–ü—Ä–∏—á–∏–Ω–∞:** –í–∞—Ä–∏–∞–Ω—Ç—ã —Ä–∞–∑–±–∏—Ç—ã –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–∞—Ä–∞–≥—Ä–∞—Ñ–æ–≤, —Ç–µ–∫—Å—Ç –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –≤ —Å–ª–µ–¥—É—é—â–∏—Ö –ø–∞—Ä–∞–≥—Ä–∞—Ñ–∞—Ö.

#### –ü—Ä–æ–±–ª–µ–º–∞ 3: –°—Ç—Ä–æ–≥–æ–µ —É—Å–ª–æ–≤–∏–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –≤–æ–ø—Ä–æ—Å–∞

**–°—Ç–∞—Ä–æ–µ —É—Å–ª–æ–≤–∏–µ:**
```typescript
if (extracted.variants.length >= 2) {
  // –¥–æ–±–∞–≤–∏—Ç—å –≤–æ–ø—Ä–æ—Å
}
```

–ï—Å–ª–∏ –Ω–∞–π–¥–µ–Ω–æ 4 –º–∞—Ä–∫–µ—Ä–∞ (A, B, C, D), –Ω–æ –≤—Å–µ –ø—É—Å—Ç—ã–µ ‚Üí –≤–æ–ø—Ä–æ—Å –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç—Å—è.

### –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ

**–§–∞–π–ª:** `server/src/services/wordParser.ts`

#### 1. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω –ø–∞—Ç—Ç–µ—Ä–Ω –ø–æ–∏—Å–∫–∞ –Ω–æ–º–µ—Ä–æ–≤

```typescript
// –ë–´–õ–û:
const questionMatch = text.match(/(?:^|\$\s*)(\d+)[\.\)]\s*(.+)/);

// –°–¢–ê–õ–û:
const questionMatch = text.match(/(?:^|\$\s*?)(\d+)[\.\)]\s*(.+)/);
//                                        ^^^ –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –ø—Ä–æ–±–µ–ª
```

–ò–∑–º–µ–Ω–µ–Ω–∏–µ `\s*` ‚Üí `\s*?` –¥–µ–ª–∞–µ—Ç –ø—Ä–æ–±–µ–ª –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º (0 –∏–ª–∏ –±–æ–ª–µ–µ, –Ω–æ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ).

–¢–µ–ø–µ—Ä—å –Ω–∞—Ö–æ–¥–∏—Ç:
- `$—Ñ–æ—Ä–º—É–ª–∞$ 2.` (—Å –ø—Ä–æ–±–µ–ª–æ–º)
- `$—Ñ–æ—Ä–º—É–ª–∞$2.` (–±–µ–∑ –ø—Ä–æ–±–µ–ª–∞)
- `2.` (–±–µ–∑ —Ñ–æ—Ä–º—É–ª—ã)

#### 2. –£–ª—É—á—à–µ–Ω–æ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤

**–ú–µ—Ç–æ–¥:** `extractVariantsFromText()`

```typescript
// Don't skip variants that are empty but might have formulas in next paragraph
// A variant is valid if it has text OR if it's not the last one
const isValid = variantText.length > 0 || i < variantMarkers.length - 1;

if (isValid) {
  variants.push({ letter: current.letter, text: variantText });
  if (variantText.length > 0) {
    console.log(`‚úÖ Variant ${current.letter}: "${variantText}..."`);
  } else {
    console.log(`‚ö†Ô∏è Variant ${current.letter}: empty (but keeping for now)`);
  }
}
```

–¢–µ–ø–µ—Ä—å –ø—É—Å—Ç—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã –Ω–µ –æ—Ç–±—Ä–∞—Å—ã–≤–∞—é—Ç—Å—è —Å—Ä–∞–∑—É (–∫—Ä–æ–º–µ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ).

#### 3. –£–ª—É—á—à–µ–Ω–æ —É—Å–ª–æ–≤–∏–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –≤–æ–ø—Ä–æ—Å–∞

**–ú–µ—Ç–æ–¥:** `parseQuestions()`

```typescript
// Accept question if we have at least 2 variants OR if we found 4 variant markers
const variantMarkers = (fullText.match(/\b[A-D][\.\)]/g) || []).length;
const hasEnoughVariants = extracted.variants.length >= 2 || variantMarkers >= 4;

if (hasEnoughVariants) {
  // If we have 4 markers but some variants are empty, fill them with placeholder
  if (variantMarkers >= 4 && extracted.variants.length < 4) {
    const letters = ['A', 'B', 'C', 'D'];
    const existingLetters = extracted.variants.map(v => v.letter);
    for (const letter of letters) {
      if (!existingLetters.includes(letter)) {
        extracted.variants.push({ letter, text: '' });
        console.log(`‚ûï Added empty variant ${letter} (placeholder)`);
      }
    }
    // Sort by letter
    extracted.variants.sort((a, b) => a.letter.localeCompare(b.letter));
  }
  
  questions.push({ text: extracted.cleanText, variants: extracted.variants, ... });
}
```

–ù–æ–≤–∞—è –ª–æ–≥–∏–∫–∞:
1. –ï—Å–ª–∏ –Ω–∞–π–¥–µ–Ω–æ ‚â•2 –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ —Å —Ç–µ–∫—Å—Ç–æ–º ‚Üí –¥–æ–±–∞–≤–∏—Ç—å –≤–æ–ø—Ä–æ—Å
2. –ï—Å–ª–∏ –Ω–∞–π–¥–µ–Ω–æ 4 –º–∞—Ä–∫–µ—Ä–∞ (A, B, C, D) ‚Üí –¥–æ–±–∞–≤–∏—Ç—å –≤–æ–ø—Ä–æ—Å (–¥–∞–∂–µ –µ—Å–ª–∏ –≤–∞—Ä–∏–∞–Ω—Ç—ã –ø—É—Å—Ç—ã–µ)
3. –ï—Å–ª–∏ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –º–µ–Ω—å—à–µ 4, –Ω–æ –º–∞—Ä–∫–µ—Ä–æ–≤ 4 ‚Üí –¥–æ–±–∞–≤–∏—Ç—å –ø—É—Å—Ç—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã –∫–∞–∫ placeholder

### –†–µ–∑—É–ª—å—Ç–∞—Ç

–¢–µ–ø–µ—Ä—å –ø–∞—Ä—Å–µ—Ä –¥–æ–ª–∂–µ–Ω –Ω–∞—Ö–æ–¥–∏—Ç—å:
- –í–æ–ø—Ä–æ—Å—ã —Å —Ñ–æ—Ä–º—É–ª–∞–º–∏ –±–µ–∑ –ø—Ä–æ–±–µ–ª–∞ –ø–µ—Ä–µ–¥ –Ω–æ–º–µ—Ä–æ–º: `$—Ñ–æ—Ä–º—É–ª–∞$2.`
- –í–æ–ø—Ä–æ—Å—ã —Å –ø—É—Å—Ç—ã–º–∏ –≤–∞—Ä–∏–∞–Ω—Ç–∞–º–∏ (–µ—Å–ª–∏ –Ω–∞–π–¥–µ–Ω–æ 4 –º–∞—Ä–∫–µ—Ä–∞)
- –í–æ–ø—Ä–æ—Å—ã —Å –≤–∞—Ä–∏–∞–Ω—Ç–∞–º–∏ –≤ —Å–ª–µ–¥—É—é—â–∏—Ö –ø–∞—Ä–∞–≥—Ä–∞—Ñ–∞—Ö

### –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä
2. –ò–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ Word —Ñ–∞–π–ª —Å–Ω–æ–≤–∞
3. –î–æ–ª–∂–Ω–æ –±—ã—Ç—å –Ω–∞–π–¥–µ–Ω–æ –±–æ–ª—å—à–µ –≤–æ–ø—Ä–æ—Å–æ–≤ (–æ–∂–∏–¥–∞–µ—Ç—Å—è 25-28 –∏–∑ 30)
4. –ï—Å–ª–∏ –≤—Å–µ –µ—â–µ –Ω–µ –≤—Å–µ –≤–æ–ø—Ä–æ—Å—ã - –ø—Ä–∏—à–ª–∏—Ç–µ –Ω–æ–≤—ã–µ –ª–æ–≥–∏

### –ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

- `server/src/services/wordParser.ts`:
  - –ú–µ—Ç–æ–¥ `parseQuestions()` - –∏–∑–º–µ–Ω–µ–Ω –ø–∞—Ç—Ç–µ—Ä–Ω –∏ —É—Å–ª–æ–≤–∏–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è
  - –ú–µ—Ç–æ–¥ `extractVariantsFromText()` - —É–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –ø—É—Å—Ç—ã—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤


---

## üî• –û–ë–ù–û–í–õ–ï–ù–ò–ï: 2025-02-12 - –û–±–Ω–∞—Ä—É–∂–µ–Ω—ã –≤–ª–æ–∂–µ–Ω–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã (20/30)

### –ü—Ä–æ–±–ª–µ–º–∞ –ø–æ—Å–ª–µ –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π

–ù–∞–π–¥–µ–Ω–æ 20 –∏–∑ 30 –≤–æ–ø—Ä–æ—Å–æ–≤. –ü—Ä–æ–ø—É—â–µ–Ω—ã –≤–æ–ø—Ä–æ—Å—ã: 2, 5, 7, 9, 11, 13, 15, 19, 23, 25.

**–ê–Ω–∞–ª–∏–∑ –ª–æ–≥–æ–≤ –ø–æ–∫–∞–∑–∞–ª:**

–≠—Ç–∏ –≤–æ–ø—Ä–æ—Å—ã **–ï–°–¢–¨** –≤ –¥–æ–∫—É–º–µ–Ω—Ç–µ, –Ω–æ –æ–Ω–∏ **–í–ù–£–¢–†–ò –í–ê–†–ò–ê–ù–¢–û–í** –¥—Ä—É–≥–∏—Ö –≤–æ–ø—Ä–æ—Å–æ–≤!

**–ü—Ä–∏–º–µ—Ä—ã:**
```
Q4 —Å–æ–¥–µ—Ä–∂–∏—Ç Q5:
"C) 2D) ‚àí2 $\sqrt{6}$ $\sqrt{10}$ 5. ikkisonningyig`indisi..."

Q6 —Å–æ–¥–µ—Ä–∂–∏—Ç Q7:
"A) $\frac{\sqrt{\sqrt{2,(6)}}}{\sqrt{2}}$ 7. Hisoblang: $\sqrt{6}$..."

Q8 —Å–æ–¥–µ—Ä–∂–∏—Ç Q9:
"D) 8 $\sqrt{\frac{\sqrt{4,(6)}}{\sqrt{0,(22)}}}$ 9. Hisoblang:..."
```

**–ü—Ä–∏—á–∏–Ω–∞:** –ü–∞—Ä—Å–µ—Ä —Å–æ–±–∏—Ä–∞–µ—Ç –≤–∞—Ä–∏–∞–Ω—Ç—ã –¥–æ —Ç–µ—Ö –ø–æ—Ä –ø–æ–∫–∞ –Ω–µ –Ω–∞–π–¥–µ—Ç 4 –º–∞—Ä–∫–µ—Ä–∞ (A, B, C, D), –Ω–æ –Ω–µ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –µ—Å—Ç—å –ª–∏ –≤–Ω—É—Ç—Ä–∏ —Å–æ–±—Ä–∞–Ω–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ –Ω–æ–º–µ—Ä —Å–ª–µ–¥—É—é—â–µ–≥–æ –≤–æ–ø—Ä–æ—Å–∞.

### –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ

**–§–∞–π–ª:** `server/src/services/wordParser.ts`
**–ú–µ—Ç–æ–¥:** `parseQuestions()`

–î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –≤–ª–æ–∂–µ–Ω–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã –ø–æ—Å–ª–µ –Ω–∞—Ö–æ–∂–¥–µ–Ω–∏—è 4 –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤:

```typescript
// Stop if we found all 4 variants (A, B, C, D)
if (foundVariants >= 4) {
  // Check if there's a question number INSIDE the variants text (not at start)
  // This means next question is embedded in variants
  const embeddedQuestion = variantsText.match(/[A-D][\.\)][^\d]*(\d+)[\.\)]/);
  if (embeddedQuestion) {
    const embeddedNum = parseInt(embeddedQuestion[1]);
    if (embeddedNum > questionNumber) {
      console.log(`‚ö†Ô∏è Found embedded question #${embeddedNum} in variants, stopping early`);
      // Remove the embedded question from variants text
      const embeddedPos = variantsText.indexOf(embeddedQuestion[0]);
      if (embeddedPos > 0) {
        variantsText = variantsText.substring(0, embeddedPos);
        console.log(`‚úÇÔ∏è Trimmed variants text to ${variantsText.length} chars`);
      }
      break;
    }
  }
  
  console.log(`‚úÖ Found all 4 variants at paragraph ${j}`);
  break;
}
```

**–õ–æ–≥–∏–∫–∞:**
1. –ü–æ—Å–ª–µ –Ω–∞—Ö–æ–∂–¥–µ–Ω–∏—è 4 –º–∞—Ä–∫–µ—Ä–æ–≤ (A, B, C, D)
2. –ò—â–µ–º –ø–∞—Ç—Ç–µ—Ä–Ω: `[A-D].) ... —á–∏—Å–ª–æ.)` (–≤–∞—Ä–∏–∞–Ω—Ç + —Ç–µ–∫—Å—Ç + –Ω–æ–º–µ—Ä –≤–æ–ø—Ä–æ—Å–∞)
3. –ï—Å–ª–∏ –Ω–∞–π–¥–µ–Ω–Ω—ã–π –Ω–æ–º–µ—Ä –±–æ–ª—å—à–µ —Ç–µ–∫—É—â–µ–≥–æ ‚Üí —ç—Ç–æ —Å–ª–µ–¥—É—é—â–∏–π –≤–æ–ø—Ä–æ—Å
4. –û–±—Ä–µ–∑–∞–µ–º `variantsText` –¥–æ –ø–æ–∑–∏—Ü–∏–∏ –≤–ª–æ–∂–µ–Ω–Ω–æ–≥–æ –≤–æ–ø—Ä–æ—Å–∞
5. –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º lookahead

**–ü–∞—Ç—Ç–µ—Ä–Ω:** `/[A-D][\.\)][^\d]*(\d+)[\.\)]/`
- `[A-D][\.\)]` - –º–∞—Ä–∫–µ—Ä –≤–∞—Ä–∏–∞–Ω—Ç–∞ (A), B), C), D))
- `[^\d]*` - –ª—é–±–æ–π —Ç–µ–∫—Å—Ç –∫—Ä–æ–º–µ —Ü–∏—Ñ—Ä
- `(\d+)` - –Ω–æ–º–µ—Ä –≤–æ–ø—Ä–æ—Å–∞ (–∑–∞—Ö–≤–∞—Ç—ã–≤–∞–µ–º)
- `[\.\)]` - —Ç–æ—á–∫–∞ –∏–ª–∏ —Å–∫–æ–±–∫–∞ –ø–æ—Å–ª–µ –Ω–æ–º–µ—Ä–∞

### –†–µ–∑—É–ª—å—Ç–∞—Ç

–¢–µ–ø–µ—Ä—å –ø–∞—Ä—Å–µ—Ä –¥–æ–ª–∂–µ–Ω:
- –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å lookahead –ø—Ä–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–∏ –≤–ª–æ–∂–µ–Ω–Ω–æ–≥–æ –≤–æ–ø—Ä–æ—Å–∞
- –û–±—Ä–µ–∑–∞—Ç—å —Ç–µ–∫—Å—Ç –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –¥–æ –Ω–∞—á–∞–ª–∞ —Å–ª–µ–¥—É—é—â–µ–≥–æ –≤–æ–ø—Ä–æ—Å–∞
- –ù–∞—Ö–æ–¥–∏—Ç—å –≤–æ–ø—Ä–æ—Å—ã 2, 5, 7, 9, 13, 15, 19, 23, 25

### –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä
2. –ò–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ Word —Ñ–∞–π–ª —Å–Ω–æ–≤–∞
3. –û–∂–∏–¥–∞–µ—Ç—Å—è 28-30 –≤–æ–ø—Ä–æ—Å–æ–≤ –∏–∑ 30
4. –ï—Å–ª–∏ –≤—Å–µ –µ—â–µ –Ω–µ –≤—Å–µ - –ø—Ä–∏—à–ª–∏—Ç–µ –Ω–æ–≤—ã–µ –ª–æ–≥–∏

### –ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

- `server/src/services/wordParser.ts`:
  - –ú–µ—Ç–æ–¥ `parseQuestions()` - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –≤–ª–æ–∂–µ–Ω–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã


---

## üî• –û–ë–ù–û–í–õ–ï–ù–ò–ï: 2025-02-12 - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω –ø–∞—Ç—Ç–µ—Ä–Ω –¥–ª—è –¥–≤–æ–π–Ω—ã—Ö $ (20/30 ‚Üí —Ç–µ—Å—Ç–∏—Ä—É–µ–º)

### –ü—Ä–æ–±–ª–µ–º–∞

–ù–∞—Ö–æ–¥–∏—Ç—Å—è —Ç–æ–ª—å–∫–æ 20 –∏–∑ 30 –≤–æ–ø—Ä–æ—Å–æ–≤. –ü—Ä–æ–ø—É—â–µ–Ω—ã: 2, 5, 7, 9, 11, 13, 15, 19, 23, 25.

**–ê–Ω–∞–ª–∏–∑ –ª–æ–≥–æ–≤:**
```
‚è≠Ô∏è Paragraph 4 doesn't match: "$\frac{\sqrt{3}}{\sqrt{2}}$ 2...."
‚è≠Ô∏è Paragraph 29 doesn't match: "$\sqrt[3]{...}$ 13...."
‚è≠Ô∏è Paragraph 33 doesn't match: "$\sqrt{\sqrt{\sqrt{5}}}$ 15...."
```

**Root Cause:** –ü–∞—Ä–∞–≥—Ä–∞—Ñ—ã —Å–æ–¥–µ—Ä–∂–∞—Ç —Ñ–æ—Ä–º—É–ª—ã —Å –î–í–£–ú–Ø –∑–Ω–∞–∫–∞–º–∏ `$`:
- –ù–∞—á–∞–ª–æ —Ñ–æ—Ä–º—É–ª—ã: `$\frac{...}`
- –ö–æ–Ω–µ—Ü —Ñ–æ—Ä–º—É–ª—ã: `...}$`
- –ù–æ–º–µ—Ä –≤–æ–ø—Ä–æ—Å–∞: `2.`

–ü–∞—Ç—Ç–µ—Ä–Ω `(?:^|\$)\s*(\d+)` –Ω–∞—Ö–æ–¥–∏—Ç –ü–ï–†–í–´–ô `$` (–Ω–∞—á–∞–ª–æ —Ñ–æ—Ä–º—É–ª—ã), –∞ –Ω–µ –ø–æ—Å–ª–µ–¥–Ω–∏–π –ø–µ—Ä–µ–¥ –Ω–æ–º–µ—Ä–æ–º!

### –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ

**–§–∞–π–ª:** `server/src/services/wordParser.ts`
**–ú–µ—Ç–æ–¥:** `parseQuestions()` (—Å—Ç—Ä–æ–∫–∞ 617)

–ò—Å–ø—Ä–∞–≤–ª–µ–Ω –ø–∞—Ç—Ç–µ—Ä–Ω:

```typescript
// –ë–´–õ–û:
const questionMatch = text.match(/(?:^|\$)\s*(\d+)[\.\)]\s*(.+)/);
//                                      ^ –Ω–∞—Ö–æ–¥–∏—Ç –ü–ï–†–í–´–ô $

// –°–¢–ê–õ–û:
const questionMatch = text.match(/(?:^|.*\$)\s*(\d+)[\.\)]\s*(.+)/);
//                                      ^^^ –Ω–∞—Ö–æ–¥–∏—Ç –ü–û–°–õ–ï–î–ù–ò–ô $
```

**–ò–∑–º–µ–Ω–µ–Ω–∏–µ:**
- `\$` ‚Üí `.*\$` (–ª—é–±—ã–µ —Å–∏–º–≤–æ–ª—ã –≤–∫–ª—é—á–∞—è `$` –¥–æ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ `$`)

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–æ–≤—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω:**

–î–ª—è —Ç–µ–∫—Å—Ç–∞ `"$\frac{\sqrt{3}}{\sqrt{2}}$ 2. –¢–µ–∫—Å—Ç"`:
1. `(?:^|.*\$)` - –Ω–∞—á–∞–ª–æ —Å—Ç—Ä–æ–∫–∏ –ò–õ–ò –ª—é–±—ã–µ —Å–∏–º–≤–æ–ª—ã –¥–æ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ `$`
   - –ù–∞—Ö–æ–¥–∏—Ç: `"$\frac{\sqrt{3}}{\sqrt{2}}$"`
2. `\s*` - –ø—Ä–æ–±–µ–ª—ã –ø–æ—Å–ª–µ `$`
3. `(\d+)` - –Ω–æ–º–µ—Ä –≤–æ–ø—Ä–æ—Å–∞: `"2"`
4. `[\.\)]` - —Ç–æ—á–∫–∞ –∏–ª–∏ —Å–∫–æ–±–∫–∞: `"."`
5. `\s*(.+)` - —Ç–µ–∫—Å—Ç –≤–æ–ø—Ä–æ—Å–∞: `" –¢–µ–∫—Å—Ç"`

### –†–µ–∑—É–ª—å—Ç–∞—Ç

–¢–µ–ø–µ—Ä—å –¥–æ–ª–∂–Ω—ã –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤–æ–ø—Ä–æ—Å—ã —Å —Ñ–æ—Ä–º—É–ª–∞–º–∏:
- `"$—Ñ–æ—Ä–º—É–ª–∞$ 2."` ‚úÖ (—Å –ø—Ä–æ–±–µ–ª–æ–º)
- `"$—Ñ–æ—Ä–º—É–ª–∞$2."` ‚úÖ (–±–µ–∑ –ø—Ä–æ–±–µ–ª–∞)
- `"$\frac{a}{b}$ 2."` ‚úÖ (–¥—Ä–æ–±—å)
- `"$\sqrt{x}$ 2."` ‚úÖ (–∫–æ—Ä–µ–Ω—å)
- `"2."` ‚úÖ (–±–µ–∑ —Ñ–æ—Ä–º—É–ª—ã)

### –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä: `cd server && npm run dev`
2. –ò–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ Word —Ñ–∞–π–ª —Å–Ω–æ–≤–∞
3. –û–∂–∏–¥–∞–µ—Ç—Å—è 28-30 –≤–æ–ø—Ä–æ—Å–æ–≤ –∏–∑ 30
4. –ï—Å–ª–∏ –≤—Å–µ –µ—â–µ –Ω–µ –≤—Å–µ - –ø—Ä–∏—à–ª–∏—Ç–µ –Ω–æ–≤—ã–µ –ª–æ–≥–∏

### –ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

- `server/src/services/wordParser.ts`:
  - –ú–µ—Ç–æ–¥ `parseQuestions()` - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω regex –ø–∞—Ç—Ç–µ—Ä–Ω (—Å—Ç—Ä–æ–∫–∞ 617)
