# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: –û–±—Ä–∞–±–æ—Ç–∞–Ω–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è

## –ü—Ä–æ–±–ª–µ–º–∞

–ü–æ—Å–ª–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ OMR –ª–∏—Å—Ç–∞, Python —Å–∫—Ä–∏–ø—Ç —Å–æ–∑–¥–∞–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å –æ—Ç–º–µ—Ç–∫–∞–º–∏ (–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ/–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã), –Ω–æ –∫–ª–∏–µ–Ω—Ç –Ω–µ –º–æ–∂–µ—Ç –µ–≥–æ –æ—Ç–æ–±—Ä–∞–∑–∏—Ç—å, –ø–æ—Ç–æ–º—É —á—Ç–æ –ø–æ–ª—É—á–∞–µ—Ç —Ç–æ–ª—å–∫–æ –∏–º—è —Ñ–∞–π–ª–∞ –±–µ–∑ –ø–æ–ª–Ω–æ–≥–æ –ø—É—Ç–∏.

## –ß—Ç–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç Python:

```json
{
  "annotated_image": "checked_omr-1770380430396-272728333.png"
}
```

## –ß—Ç–æ –Ω—É–∂–Ω–æ –∫–ª–∏–µ–Ω—Ç—É:

–ü–æ–ª–Ω—ã–π URL –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—é —á–µ—Ä–µ–∑ –≤–µ–±:
```
/uploads/omr/checked_omr-1770380430396-272728333.png
```

## –†–µ—à–µ–Ω–∏–µ

–î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ `annotated_image_url` –≤ –æ—Ç–≤–µ—Ç —Å–µ—Ä–≤–µ—Ä–∞ —Å –ø–æ–ª–Ω—ã–º –ø—É—Ç–µ–º –∫ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω–æ–º—É –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—é.

### –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ `server/src/routes/omr.routes.ts`:

```typescript
// –ï—Å–ª–∏ –µ—Å—Ç—å –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ, –¥–æ–±–∞–≤–ª—è–µ–º –ø–æ–ª–Ω—ã–π –ø—É—Ç—å –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ —á–µ—Ä–µ–∑ –≤–µ–±
if (result.annotated_image) {
  result.annotated_image_url = `/uploads/omr/${result.annotated_image}`;
  console.log('üì∏ Annotated image URL:', result.annotated_image_url);
}
```

## –¢–µ–ø–µ—Ä—å –∫–ª–∏–µ–Ω—Ç –ø–æ–ª—É—á–∞–µ—Ç:

```json
{
  "annotated_image": "checked_omr-1770380430396-272728333.png",
  "annotated_image_url": "/uploads/omr/checked_omr-1770380430396-272728333.png"
}
```

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ:

```typescript
// –°—Ç–∞—Ä—ã–π —Å–ø–æ—Å–æ–± (–Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç):
<img src={result.annotated_image} />

// –ù–æ–≤—ã–π —Å–ø–æ—Å–æ–± (—Ä–∞–±–æ—Ç–∞–µ—Ç):
<img src={result.annotated_image_url} />

// –ò–ª–∏ —Å –ø–æ–ª–Ω—ã–º URL:
<img src={`${API_URL}${result.annotated_image_url}`} />
```

## –î–µ–ø–ª–æ–π:

```bash
cd /var/www/resultMA
git pull
cd server
npm run build
cd ..
pm2 restart mathacademy-server
```

## –ü—Ä–æ–≤–µ—Ä–∫–∞:

–ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è –≤ –ª–æ–≥–∞—Ö –¥–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è:
```
üì∏ Annotated image URL: /uploads/omr/checked_omr-....png
```

–ò –∫–ª–∏–µ–Ω—Ç —Å–º–æ–∂–µ—Ç –æ—Ç–æ–±—Ä–∞–∑–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å –æ—Ç–º–µ—Ç–∫–∞–º–∏ –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö/–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤.

## –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:

–°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –≤ `server/src/index.ts`:
```typescript
app.use('/uploads', express.static(path.join(process.cwd(), 'uploads')));
```

–ü–æ—ç—Ç–æ–º—É —Ñ–∞–π–ª—ã –∏–∑ `/var/www/resultMA/uploads/` –¥–æ—Å—Ç—É–ø–Ω—ã –ø–æ URL `/uploads/`.
